{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar data = [{\n  id: '1',\n  nome: ''\n}, {\n  id: '2',\n  nome: 'Item 2'\n}, {\n  id: '3',\n  nome: 'Item 3'\n}, {\n  id: '4',\n  nome: 'Another Item'\n}];\nvar App = function App() {\n  var _fazerSolicitacaoComToken;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    search = _useState2[0],\n    setSearch = _useState2[1];\n  var filteredData = data.filter(function (item) {\n    return item.nome.toLowerCase().includes(search.toLowerCase());\n  });\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dados = _useState4[0],\n    setDados = _useState4[1];\n  function fazerSolicitacaoComToken() {\n    return (_fazerSolicitacaoComToken = _fazerSolicitacaoComToken || _asyncToGenerator(function* () {\n      try {\n        var token = yield AsyncStorage.getItem(\"token\");\n        if (token) {\n          var headers = {\n            'Content-type': 'application/json; charset=UTF-8',\n            'Authorization': `Bearer ${token}`\n          };\n          var response = yield fetch('https://tcc-production-e100.up.railway.app/api/lazer/parque', {\n            method: 'GET',\n            headers: headers\n          });\n          if (response.status === 200) {\n            var _data = yield response.json();\n            console.log(\"Dados da resposta:\", _data);\n            setDados(_data);\n          } else {\n            console.error(\"Erro na solicitação:\", response.status);\n          }\n        } else {\n          console.log(\"Token não encontrado em AsyncStorage.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao fazer a solicitação:\", error);\n      }\n    })).apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      padding: 16\n    },\n    children: [_jsx(TextInput, {\n      style: {\n        height: 40,\n        borderColor: 'gray',\n        borderWidth: 1,\n        marginBottom: 16,\n        paddingLeft: 8\n      },\n      placeholder: \"Pesquisar...\",\n      onChangeText: function onChangeText(text) {\n        return setSearch(text);\n      },\n      value: search\n    }), dados.map(function (item, index) {\n      return _jsx(FlatList, {\n        data: filteredData,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsx(View, {\n            style: {\n              padding: 10\n            },\n            children: _jsx(Text, {\n              children: item.nome\n            })\n          });\n        }\n      }, item.idLazer);\n    })]\n  });\n};\nexport default App;","map":{"version":3,"names":["React","useState","View","TextInput","FlatList","Text","AsyncStorage","jsx","_jsx","jsxs","_jsxs","data","id","nome","App","_fazerSolicitacaoComToken","_useState","_useState2","_slicedToArray","search","setSearch","filteredData","filter","item","toLowerCase","includes","_useState3","_useState4","dados","setDados","fazerSolicitacaoComToken","_asyncToGenerator","token","getItem","headers","response","fetch","method","status","json","console","log","error","apply","arguments","style","flex","padding","children","height","borderColor","borderWidth","marginBottom","paddingLeft","placeholder","onChangeText","text","value","map","index","renderItem","_ref","idLazer"],"sources":["C:/Users/gabriel/Documents/GitHub/AppLinkedPark/src/componentes/pesquisa/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, TextInput, FlatList, Text } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst data = [\r\n  { id: '1', nome: '' },\r\n  { id: '2', nome: 'Item 2' },\r\n  { id: '3', nome: 'Item 3' },\r\n  { id: '4', nome: 'Another Item' },\r\n  // ... mais dados\r\n];\r\n\r\nconst App = () => {\r\n  const [search, setSearch] = useState('');\r\n  const filteredData = data.filter(item =>\r\n    item.nome.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  const [dados, setDados] = useState([]);\r\n\r\n\r\n    async function fazerSolicitacaoComToken() {\r\n      try {\r\n        // Obtém o token de AsyncStorage\r\n        const token = await AsyncStorage.getItem(\"token\");\r\n    \r\n        if (token) {\r\n          // Construa o cabeçalho Authorization\r\n          const headers = {\r\n            'Content-type': 'application/json; charset=UTF-8',\r\n            'Authorization': `Bearer ${token}`\r\n          };\r\n    \r\n          // Faça a solicitação usando o cabeçalho personalizado\r\n          const response = await fetch('https://tcc-production-e100.up.railway.app/api/lazer/parque', {\r\n            method: 'GET', // ou outro método HTTP\r\n            headers: headers\r\n          });\r\n    \r\n          if (response.status === 200) {\r\n            const data = await response.json();\r\n            console.log(\"Dados da resposta:\", data);\r\n            setDados(data);\r\n          } else {\r\n            console.error(\"Erro na solicitação:\", response.status);\r\n          }\r\n        } else {\r\n          console.log(\"Token não encontrado em AsyncStorage.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Erro ao fazer a solicitação:\", error);\r\n      }\r\n    }\r\n\r\n  return (\r\n    <View style={{ flex: 1, padding: 16 }}>\r\n      <TextInput\r\n        style={{\r\n          height: 40,\r\n          borderColor: 'gray',\r\n          borderWidth: 1,\r\n          marginBottom: 16,\r\n          paddingLeft: 8,\r\n        }}\r\n        placeholder=\"Pesquisar...\"\r\n        onChangeText={text => setSearch(text)}\r\n        value={search}\r\n      />\r\n      {dados.map((item, index) => (\r\n      <FlatList\r\n        data={filteredData}\r\n        key={item.idLazer}\r\n        renderItem={({ item }) => (\r\n          <View style={{ padding: 10 }}>\r\n            <Text>{item.nome}</Text>\r\n          </View>\r\n        )}\r\n      />\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}